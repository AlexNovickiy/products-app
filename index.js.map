{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-function.js","../src/js/products-api.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  notFound: document.querySelector('.not-found'),\n};\n","//Функції  для створення, рендеру або видалення розмітки\nimport { refs } from './refs.js';\n\nexport function renderFunctionCategories(categoriesList) {\n  refs.categoriesList.innerHTML = categoriesList\n    .map(category => {\n      return `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>`;\n    })\n    .join('');\n}\n\nexport function renderFunctionProducts(productsList) {\n  refs.productsList.innerHTML = productsList\n    .map(product => {\n      return `<li class=\"products__item\" data-id=\"${product.id}\">\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"${product.title}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${product.brand}</p>\n    <p class=\"products__category\">Category: ${product.category}</p>\n    <p class=\"products__price\">Price: $${product.price}</p>\n </li>\n`;\n    })\n    .join('');\n}\n\nexport function appendFunctionProducts(productsList) {\n  refs.productsList.insertAdjacentHTML(\n    'beforeend',\n    productsList\n      .map(product => {\n        return `<li class=\"products__item\" data-id=\"${product.id}\" data-category=\"${product.category}\">\n    <img class=\"products__image\" src=\"${product.images[0]}\" alt=\"${product.title}\"/>\n    <p class=\"products__title\">${product.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${product.brand}</p>\n    <p class=\"products__category\">Category: ${product.category}</p>\n    <p class=\"products__price\">Price: $${product.price}</p>\n </li>\n`;\n      })\n      .join('')\n  );\n}\n\nexport function removesProductsByCategory(category) {\n  const products = Array.from(refs.productsList.children);\n  products.forEach(product => {\n    const productCategory = product.dataset.category.trim().toLowerCase();\n    if (productCategory === category) {\n      product.remove();\n    }\n  });\n}\n","// Функції для роботи з бекендом\nimport axios from 'axios';\nimport { refs } from './refs.js';\n\nconst API_BASE_URL = 'https://dummyjson.com/products';\nconst API_CATEGORIES_URL = 'category-list';\nconst currentPage = 1;\nconst url = `https://dummyjson.com/products?limit=12&skip=${\n  (currentPage - 1) * 12\n}`;\nconst limit = 12;\n\nexport async function getProductsCategories() {\n  try {\n    const response = await axios.get(`${API_BASE_URL}/${API_CATEGORIES_URL}`);\n    const categories = ['All', ...response.data];\n    return categories;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n  }\n}\n\nexport async function getProducts() {\n  try {\n    const response = await axios.get(`${url}`);\n    return response.data.products;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n  }\n}\n\nexport async function getProductsByCategory(category) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}/category/${category}?limit=${limit}&skip=${\n        (currentPage - 1) * limit\n      }`\n    );\n    if (response.data.products.length === 0) {\n      refs.notFound.classList.add('not-found--visible');\n    } else {\n      refs.notFound.classList.remove('not-found--visible');\n    }\n    return response.data.products;\n  } catch (error) {\n    console.error('Error fetching products by category:', error);\n  }\n}\n","// Функції, які передаються колбеками в addEventListners\nimport { refs } from './refs.js';\nimport { getProductsByCategory, getProducts } from './products-api.js';\nimport {\n  renderFunctionProducts,\n  appendFunctionProducts,\n  removesProductsByCategory,\n} from './render-function.js';\n\nexport async function onCategoryClick(event) {\n  if (event.target.tagName !== 'BUTTON') return;\n  const btnCategory = event.target;\n  const targetCategory = btnCategory.textContent.trim().toLowerCase();\n\n  // Якщо натиснули \"all\"\n  if (targetCategory === 'all') {\n    refs.categoriesList.querySelectorAll('.categories__btn').forEach(btn => {\n      if (btn !== btnCategory) btn.classList.remove('categories__btn--active');\n    });\n    btnCategory.classList.add('categories__btn--active');\n    renderFunctionProducts(await getProducts());\n    return;\n  }\n\n  // Якщо натиснули іншу категорію\n  refs.categoriesList.querySelectorAll('.categories__btn').forEach(btn => {\n    if (btn.textContent.trim().toLowerCase() === 'all') {\n      btn.classList.remove('categories__btn--active');\n    }\n  });\n\n  btnCategory.classList.toggle('categories__btn--active');\n\n  // Якщо фільтр деактивовано — видаляємо товари цієї категорії\n  if (!btnCategory.classList.contains('categories__btn--active')) {\n    removesProductsByCategory(targetCategory);\n    // Якщо не залишилось жодного продукту — дефолтний рендер\n    if (refs.productsList.querySelectorAll('.products__item').length === 0) {\n      renderFunctionProducts(await getProducts());\n    }\n    return;\n  }\n\n  // Видаляємо  товари без фільтрації\n  refs.productsList.querySelectorAll('.products__item').forEach(item => {\n    if (!item.dataset.category) {\n      item.remove();\n    }\n  });\n\n  // Додаємо товари нової категорії\n  const productsByCategory = await getProductsByCategory(targetCategory);\n  appendFunctionProducts(productsByCategory);\n}\n","import { refs } from './js/refs';\nimport {\n  renderFunctionCategories,\n  renderFunctionProducts,\n} from './js/render-function';\nimport { getProductsCategories, getProducts } from './js/products-api';\nimport { onCategoryClick } from './js/handlers';\n\n//Логіка сторінки Home\n\nrenderCategoriesList();\nrenderProductsList();\n\nasync function renderCategoriesList() {\n  const categoriesList = await getProductsCategories();\n  renderFunctionCategories(categoriesList);\n}\n\nasync function renderProductsList() {\n  const productsList = await getProducts();\n  renderFunctionProducts(productsList);\n}\n\nrefs.categoriesList.addEventListener('click', onCategoryClick);\n"],"names":["refs","renderFunctionCategories","categoriesList","category","renderFunctionProducts","productsList","product","appendFunctionProducts","removesProductsByCategory","API_BASE_URL","API_CATEGORIES_URL","currentPage","url","limit","getProductsCategories","axios","error","getProducts","getProductsByCategory","response","onCategoryClick","event","btnCategory","targetCategory","btn","item","productsByCategory","renderCategoriesList","renderProductsList"],"mappings":"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"}